(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{90:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(11),c=n.n(i),o=n(10),s=n(22),r=n(13),l=n(2);var j=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Home"}),Object(l.jsx)(s.b,{to:"/register",children:Object(l.jsx)("button",{children:"Register"})}),Object(l.jsx)(s.b,{to:"/login",children:Object(l.jsx)("button",{children:"Log in"})})]})},d=n(12),b=n(20),u="https://gabes-safe.herokuapp.com";var O=function(e){var t=Object(r.f)(),n=/(.+)@(.+){2,}\.(.+){2,}/,i={email:"",password:"",passwordConfirmation:""},c=Object(a.useState)(i),s=Object(o.a)(c,2),j=s[0],O=s[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),f=p[0],m=p[1];function x(e){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Register"}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{name:"email",placeholder:"Email",type:"email",value:j.email,onChange:x}),Object(l.jsx)("input",{name:"password",placeholder:"Password",type:"password",value:j.password,onChange:x}),Object(l.jsx)("input",{name:"passwordConfirmation",placeholder:"Confirm your password",type:"password",value:j.passwordConfirmation,onChange:x}),Object(l.jsx)("button",{onClick:function(a){""===j.email||""===j.password||""===j.passwordConfirmation?m("Please fill out all fields."):n.test(j.email)?j.password!==j.passwordConfirmation?(m("Passwords don't match."),O(i)):fetch(u+"/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:j.email,password:j.password})}).then((function(e){return e.text()})).then((function(n){"User already exists."===n?(m(n),O(i)):"User created."===n?(m(n),e.signin(j.email,t)):(m("Error, please try again."),O(i))})):(m("Invalid email."),O(i)),a.preventDefault()},children:"Register"})]}),Object(l.jsx)("p",{children:f})]})};var h=function(e){var t=Object(r.f)(),n=/(.+)@(.+){2,}\.(.+){2,}/,i={email:"",password:""},c=Object(a.useState)(""),s=Object(o.a)(c,2),j=s[0],O=s[1],h=Object(a.useState)(i),p=Object(o.a)(h,2),f=p[0],m=p[1];function x(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{name:"email",placeholder:"Email",type:"email",value:f.email,onChange:x}),Object(l.jsx)("input",{name:"password",placeholder:"Password",type:"password",value:f.password,onChange:x}),Object(l.jsx)("button",{onClick:function(a){""===f.email||""===f.password?O("Please fill out all fields."):n.test(f.email)?fetch(u+"/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:f.email,password:f.password})}).then((function(e){return e.text()})).then((function(n){"User not found."===n||"Invalid password."===n?(O(n),m(i)):"Login successful."===n?e.signin(f.email,t):(console.log("Unrecognized return from server."),m(i))})):(O("Invalid email."),m(i)),a.preventDefault()},children:"Login"})]}),Object(l.jsx)("p",{children:j})]})},p=n(130),f=n(134),m=n(131),x=n(132),g=n(93),v=n(133),y=n(122),w=n(64),C=n.n(w),S=n(137),k=n(126),N=n(127),E=n(135),T=n(128),P=n(129),W=n(63),A=n.n(W);var D=function(e){var t={_id:"",title:"",link:"",login:"",password:""},n=Object(a.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],r=Object(a.useState)(t),j=Object(o.a)(r,2),u=j[0],O=j[1];function h(e){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))}var p=function(){O(t),s(!1)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(y.a,{onClick:function(){O(e.entry),s(!0)},children:Object(l.jsx)(A.a,{})}),Object(l.jsxs)(S.a,{open:c,onClose:p,"aria-labelledby":"form-dialog-title",children:[Object(l.jsx)(k.a,{id:"form-dialog-title",children:"Edit password"}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",autoComplete:"off",type:"text",onChange:h,value:u.title,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"userName",label:"Login",name:"login",autoComplete:"off",type:"text",onChange:h,value:u.login,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"password",label:"Password",name:"password",autoComplete:"off",type:"password",onChange:h,value:u.password,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"link",label:"Website link",name:"link",autoComplete:"off",type:"url",onChange:h,value:u.link,fullWidth:!0})}),Object(l.jsxs)(T.a,{children:[Object(l.jsx)(P.a,{onClick:p,color:"primary",children:"Cancel"}),Object(l.jsx)(P.a,{onClick:function(){e.onSubmit(u),p()},color:"primary",children:"Submit"})]})]})]})},L=Object(p.a)({root:{minWidth:275},label:{fontSize:14,color:"#4b7bec"},info:{fontSize:18,color:"#4b6584"}});var J=function(e){var t=L();return Object(l.jsxs)(m.a,{className:t.root,children:[Object(l.jsxs)(x.a,{children:[Object(l.jsx)(g.a,{className:t.label,children:"Title"}),Object(l.jsx)(g.a,{className:t.info,children:e.content.title}),Object(l.jsx)(g.a,{className:t.label,children:"Link"}),Object(l.jsx)(g.a,{className:t.info,children:e.content.link}),Object(l.jsx)(g.a,{className:t.label,children:"Login"}),Object(l.jsx)(g.a,{className:t.info,children:e.content.login}),Object(l.jsx)(g.a,{className:t.label,children:"Password"}),Object(l.jsx)(g.a,{className:t.info,children:e.content.password})]}),Object(l.jsxs)(v.a,{children:[Object(l.jsx)(y.a,{onClick:function(){e.onDelete(e.content._id)},children:Object(l.jsx)(C.a,{})}),Object(l.jsx)(D,{entry:e.content,onSubmit:function(t){e.onEdit(t)}})]})]})},I=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var U=function(e){var t=I();function n(t){e.onDelete(t)}function a(t){e.onEdit(t)}return Object(l.jsx)("div",{className:t.root,children:Object(l.jsx)(f.a,{container:!0,spacing:3,children:e.entries.map((function(e){return Object(l.jsx)(f.a,{item:!0,xs:3,children:Object(l.jsx)(J,{content:e,onDelete:n,onEdit:a},e._id)},e._id+"grid")}))})})},_=n(65),z=n.n(_);var F=function(e){var t={title:"",link:"",login:"",password:""},n=Object(a.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],r=Object(a.useState)(t),j=Object(o.a)(r,2),u=j[0],O=j[1],h=Object(a.useState)(""),p=Object(o.a)(h,2),f=p[0],m=p[1];function x(e){var t=e.target,n=t.name,a=t.value;O((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(d.a)({},n,a))}))}var g=function(){O(t),s(!1)};return Object(l.jsxs)("div",{children:[Object(l.jsx)(P.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)},children:Object(l.jsxs)("p",{children:[Object(l.jsx)(z.a,{})," Add new password"]})}),Object(l.jsxs)(S.a,{open:c,onClose:g,"aria-labelledby":"form-dialog-title",children:[Object(l.jsx)(k.a,{id:"form-dialog-title",children:"Add new password"}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",autoComplete:"off",type:"text",onChange:x,value:u.title,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"userName",label:"Login",name:"login",autoComplete:"off",type:"text",onChange:x,value:u.login,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"password",label:"Password",name:"password",autoComplete:"off",type:"password",onChange:x,value:u.password,fullWidth:!0})}),Object(l.jsx)(N.a,{children:Object(l.jsx)(E.a,{margin:"dense",id:"link",label:"Website link",name:"link",autoComplete:"off",type:"url",onChange:x,value:u.link,fullWidth:!0})}),Object(l.jsx)("p",{children:f}),Object(l.jsxs)(T.a,{children:[Object(l.jsx)(P.a,{onClick:g,color:"primary",children:"Cancel"}),Object(l.jsx)(P.a,{onClick:function(){""===u.title&&""===u.link&&""===u.login&&""===u.password?m("Please insert some information before adding."):(e.onSubmit(u),g())},color:"primary",children:"Add"})]})]})]})};var R=function(e){var t=Object(r.f)(),n=Object(a.useState)([]),i=Object(o.a)(n,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){""===e.login?t.push("/"):fetch(u+"/populateDeck",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:e.login})}).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Safe"}),Object(l.jsx)(U,{entries:c,onDelete:function(t){fetch(u+"/entry",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:e.login,entryId:t})}).then((function(e){return e.json()})).then((function(e){return s(e)}))},onEdit:function(t){fetch(u+"/entry",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:e.login,updatedEntry:t})}).then((function(e){return e.json()})).then((function(e){return s(e)}))}}),Object(l.jsx)(F,{onSubmit:function(t){fetch(u+"/insertEntry",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:e.login,entry:t})}).then((function(e){return e.json()})).then((function(e){return s(e)}))}})]})};var G=function(){return Object(l.jsx)("header",{children:Object(l.jsx)(s.b,{to:"/",children:Object(l.jsx)("h1",{children:"Gabe's Safe"})})})};var B=function(){var e=(new Date).getFullYear();return Object(l.jsx)("footer",{children:Object(l.jsxs)("p",{children:["Creative Commons \u24d2 ",e]})})};var H=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];function c(e,t){i(e),t.push("/safe")}return Object(l.jsx)(s.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(G,{}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:"/",exact:!0,children:Object(l.jsx)(j,{})}),Object(l.jsx)(r.a,{path:"/register",children:Object(l.jsx)(O,{signin:c})}),Object(l.jsx)(r.a,{path:"/login",children:Object(l.jsx)(h,{signin:c})}),Object(l.jsx)(r.a,{path:"/safe",children:Object(l.jsx)(R,{login:n})})]}),Object(l.jsx)(B,{})]})})};c.a.render(Object(l.jsx)(H,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.44673628.chunk.js.map